<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="cr_report_template">
	<t t-call="web.html_container">
	    <t t-foreach="docs" t-as="o">
		<div class="page">
		    <head>
			<style>
			  .report_details_left {
				 border: none;
			  }
			  .report_details_right {
				 margin-left: 68%;
				 margin-top: -8%;
				 border: none;
			  }
			  .report_table {
				 margin-top: 3%;
			  }
			  th,td,tbody,table{
			    border: 1px solid lightgray;
				border-collapse: collapse;
				<!-- border-style: groove; -->
			  }
			  th {
			    text-align: center; 
			    padding: 8px;
				border: 1px solid black;
			  }
			  h5{
			     text-align : center;
			     font-weight: bold;
			     padding: 20px;
				 font-size: 16px; 
			      }
			  b {
				 font-weight: 510;
				  color: #4C4848;
				}
			</style>
		    </head>
		    <div class="oe_structure"/>
		</div>
		<div>
		    <h5><t t-esc="o.print_report()['data']['company_name']"/>,<t t-esc="o.print_report()['data']['company_street']"/>,<t t-esc="o.print_report()['data']['company_state']"/></h5>

		</div>
		<div>
		    <div class="report_details_left">
			<table style="border: none;">
			    <tbody style="border: none;">
				<tr style="border: none;">
				    <th style="border: none;text-align: left;">From Date</th>
				    <th style="border: none;">:</th>
				    <td style="border: none;text-align: left;"><span t-esc="o.print_report()['data']['from_date']"></span></td>
				</tr>
				<tr style="border: none; text-align: left;">
				    <th style="border: none;text-align: left;">Report Taken By</th>
				    <th style="border: none;">:</th>
				    <td style="border: none;text-align: left;"><span t-esc="o.print_report()['data']['report_taken_by']"></span></td>
				</tr>
			    </tbody>
			</table>
		    </div>
		    <div class="report_details_right">
			<table style="border: none;">
			    <tbody style="border: none;">
				<tr style="border: none;">
				    <th style="border: none;text-align: left;">To Date</th>
				    <th style="border: none;">:</th>
				    <td style="border: none;text-align: left;"><span t-esc="o.print_report()['data']['to_date']"></span></td>
				</tr>

				<tr style="border: none;">
				    <th style="border: none;text-align: left;">Taken Date and Time</th>
				    <th style="border: none;">:</th>
				    <td style="border: none;text-align: left;"><span t-esc="o.print_report()['data']['taken_date']"></span></td>
				</tr>
			    </tbody>
			</table>
		    </div>
		    <div class="report_table">
			<table style="border: none;">
			    <tr style = "background-color: #E6E6E6;">
					 <th style="width:5%;">S.No</th>
					<th style="width:15%;">Product Name</th>
					<th style="width:10%;">Brand</th>
					<th style="width:10%;">UOM</th>
					<th style="width:10%;">Qty</th>
					<th style="width:10%;">Unit Price</th>
					<th style="width:10%;">Discount</th>
					<th style="width:10%;">Tax</th>
					<th style="width:10%;">Total(WT)</th>
			    </tr>
			    <t t-set="serial" t-value="1"/>
			    <t t-set="grand_total" t-value="0"/>

			    <t t-foreach="o.print_report()['data']['trans_details']" t-as="item">
				<t t-if="item['product_details']">
				    <!-- hearder-->
				    <tr style = "background-color:#F7F7F7;">
					    <td t-att-colspan="1" style="width:4%; text-align: center;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
						<b><t t-esc="serial"/> </b>
					    </td>
						<td t-att-colspan="8" style="width:4%; text-align: left;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
						<b> Ref No : </b> <t t-esc="item['trans_no']"/><b> / </b><t t-esc="item['date']"/>, <b>Partner : </b><t t-esc="item['partner_name']"/>, <b>Department : </b><t t-esc="item['department']"/>, <b>Net Amount : </b><t t-esc="o.currency_indian_format(item['net_amt'])"/>
					    </td>
					</tr>
					<!-- hearder end -->
                    <t t-set="line_serial" t-value="1"/>
					<t t-foreach="item['product_details']" t-as="trans">
                    <!-- line -->
					   <tr>
							<td style="font-size: 14px;width:4%; text-align: right;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
								<t t-esc="line_serial"/>
							</td>
							<td style="width:4%; text-align: left;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
								<t t-esc="trans['product_name']"/>
							</td>
							<td style="width:4%; text-align: left;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
								<t t-esc="trans['brand']"/>
							</td>
							<td style="width:4%; text-align: left;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
								<t t-esc="trans['uom']"/>
							</td>
							<td style="width:4%; text-align: right;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
								<t t-esc="'{:.3f}'.format(trans['qty'])"/>
							</td>
							<td style="width:4%; text-align: right;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
								<t t-esc="o.currency_indian_format(trans['unit_price'])"/>
							</td>
							<td style="width:4%; text-align: right;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
								<t t-esc="o.currency_indian_format(trans['disc_amt'])"/>
							</td>
							<td style="width:4%; text-align: right;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
								<t t-esc="o.currency_indian_format(trans['tax'])"/>
							</td>
							<td style="width:4%; text-align: right;height: 20px;padding-top:10px;padding-bottom:5px;padding-left:10px;padding-right: 10px;">
								<t t-esc="o.currency_indian_format(trans['line_tot_amt'])"/>
							</td>
						</tr>
						<t t-set="line_serial" t-value="line_serial+1"/>


				    </t>
				    <t t-set="serial" t-value="serial+1"/>    
				</t>
			    </t>
					    			    
			</table>
		    </div>
		</div>

	    </t>
        </t>
    </template>
</odoo>

