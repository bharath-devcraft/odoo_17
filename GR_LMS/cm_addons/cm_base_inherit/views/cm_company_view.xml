<odoo>
    <data>
       <!-- Form view starts -->
       
       
       <record id="m_form_v_company_form" model="ir.ui.view">
            <field name="name">res.company.form</field>
            <field name="model">res.company</field>
            <field name="arch" type="xml">
                <form string="Company">
		    
		    <header>
			<button string="Approve" class="btn btn-success" icon="fa-thumbs-up" type="object" name="entry_approve" invisible = "status not in ('draft','editable')" confirm="Are you sure to proceed ?"/>
			<button string="Set To Draft" class="btn btn-primary" type="object" name="entry_draft" invisible = "status != 'active'" confirm="Are you sure to proceed ?"/>
			<button string="Inactive" class="btn btn-danger" icon="fa-thumbs-down" type="object" name="entry_inactive" invisible = "status != 'active'" confirm="Are you sure to proceed ?"/>
			<field name="status" widget="statusbar" style="width:700px;"/>                
		    </header>
		    
                  <sheet>
                    <field name="logo" widget='image' class="oe_avatar" options='{"zoom": true, "preview_image": "logo"}' />
                   <group>    
                    <group>						
						<field name="name" String ="Company Name" placeholder="Company Name" readonly = "status not in ('draft','editable')"/>                        
						<field name="entry_type" required="1" readonly = "status not in ('draft','editable')"/> 
                   </group>
					<group>    
						<field name="code" String ="Code" required = "1" readonly = "status not in ('draft','editable')"/>                        
                   </group>
					</group>                    
					<group string = "Company Information">
                            <group>
                                <field name="parent_company_id" readonly = "status not in ('draft','editable')" options="{'no_create': True}"/>								
								<field name="is_registered_company" required="1" readonly = "status not in ('draft','editable')"/>
								<field name="cin_no" readonly = "status not in ('draft','editable')"/>	
								<field name="tax_reg_no" readonly = "status not in ('draft','editable')"/>	
                                <field name="usci_no" readonly = "status not in ('draft','editable')"/>
                                <field name="fmc_no" readonly = "status not in ('draft','editable')"/>
                                <field name="vat_no" readonly = "status not in ('draft','editable')"/>                                													
                            </group>
                            <group>
								<field name="gst_no" readonly = "status not in ('draft','editable')"/>									
                                <field name="iec_no" readonly = "status not in ('draft','editable')"/>
                                <field name="dpd" readonly = "status not in ('draft','editable')"/>
                                <field name="dpd_cfs" readonly = "status not in ('draft','editable')"/> 
                                <field name="pan_no" readonly = "status not in ('draft','editable')"/>
                                <field name="aadhaar_no" string="Aadhaar No" readonly = "status not in ('draft','editable')"/>  
                                <field name="working_day_hrs" readonly = "status not in ('draft','editable')"/>                                                     
                            </group>
                        </group>
                        
                        <group string = "Contact Information">
                            <group>
                                <field name="contact_person"  widget="proper_case"  required="1" readonly = "status not in ('draft','editable')"/>
                                <field name="designation"   widget="proper_case"  required="1" readonly = "status not in ('draft','editable')"/>
                                <label for= "mobile" string="Mobile No"/>
                                <div>
                                    <div class="o_address_format">
                                        <field name="mb_cc_id"  invisible="country_id == False" style="width: 15%%"  options="{'no_create': True,'no_open': True}" force_save="1" readonly = "1"/>
										<field name="mobile" widget="numeric" style="width: 40%%" required="1" readonly = "status not in ('draft','editable')"/>
                                    </div>
                                </div>
                                
                                <label for= "whatsapp_no"/>
                                <div>
                                    <div class="o_address_format">
                                        <field name="wh_cc_id"  invisible="country_id == False" style="width: 15%%"  options="{'no_create': True,'no_open': True}" force_save="1" readonly = "1"/>
										<field name="whatsapp_no" widget="numeric" style="width: 40%%" required="1" readonly = "status not in ('draft','editable')"/>
                                    </div>
                                </div>
                                
                                <label for= "phone_no"/>
                                <div>
                                    <div class="o_address_format">
                                        <field name="ph_cc_id"  invisible="country_id == False" style="width: 15%%"  options="{'no_create': True,'no_open': True}" force_save="1" readonly = "1"/>
										<field name="phone_no" string="Landline No / Ext" widget="numeric" style="width: 40%%" readonly = "status not in ('draft','editable')"/>
                                    </div>
                                </div>
                                <field name="email" required="1" readonly = "status not in ('draft','editable')"/>
                                <field name="skype" readonly = "status not in ('draft','editable')"/>
                                <field name="fax" widget="numeric" readonly = "status not in ('draft','editable')"/>                                
                            </group>
                            <group>
								<field name="street" string="Address Line 1" required="1" readonly = "status not in ('draft','editable')"/>
								<field name="street1" string="Address Line 2" readonly = "status not in ('draft','editable')"/>
								<field name="country_id" required="1" options="{'no_create': True}" readonly = "status not in ('draft','editable')"/>
                                <field name="country_code" required="1" invisible="1"/>
                                <field name="city_id" required="country_code == 'IN'" readonly = "status not in ('draft','editable')" options="{'no_create': True}"/>
                                <field name="state_id" force_save="1" readonly = "1" options="{'no_create': True}"/> 
                                <field name="pin_code" widget="no_special_char" required="1" readonly = "status not in ('draft','editable')"/>
                                <field name="same_as_bill_address" readonly = "status not in ('draft','editable')"/>
                                <field name="same_as_del_address" readonly = "status not in ('draft','editable')"/>
                            </group>
                        </group>
					
                    <notebook colspan="4">
						
						 <page string="Additional Contacts" >
							<field name="line_ids" nolabel="1" readonly = "status not in ('draft','editable')">
								<tree>
									<field name="contact_person" string="Name"/>
									<field name="job_position"/>
									<field name="work_location"/>
									<field name="mobile_no"/>
									<field name="phone_no"/>
									<field name="email"/>
								</tree>
								<form>
									<group>
										<group>
											<field name="header_id" invisible="1"/>
											<field name="contact_person" required="1" string="Name" widget="proper_case"/>
											<field name="job_position" required="1" widget="proper_case"/>
											<field name="department" widget="proper_case"/>
											<field name="work_location" required="1"/>                                                
											<field name="company_id" invisible="1"/>
										</group>  
										<group>
											<label for= "mobile_no"/>
												<div>
													<div class="o_address_format">
														<field name="mb_cc_id"  style="width: 25%%"  options="{'no_create': True,'no_open': True}" required="1"/>
														<field name="mobile_no" widget="numeric" style="width: 45%%" required="1"/>
													</div>
												</div>
												
												<label for= "whatsapp_no"/>
												<div>
													<div class="o_address_format">
														<field name="wh_cc_id"  style="width: 25%%"  options="{'no_create': True,'no_open': True}" required="1"/>
														<field name="whatsapp_no" widget="numeric" style="width: 45%%" required="1" />
													</div>
												</div>
												
												<label for= "phone_no"/>
												<div>
													<div class="o_address_format">
														<field name="ph_cc_id"  style="width: 25%%"  options="{'no_create': True,'no_open': True}"/>
														<field name="phone_no" string="Landline No / Ext" widget="numeric" style="width: 45%%"/>
													</div>
												</div>
											<field name="email" required="1"/>
											<field name="skype" widget="numeric"/>                                                
										</group>
									</group>

								</form>
							</field>
						</page>
					   
						<page string="Billing Address" >
							<field name="line_ids_b" nolabel="1" readonly = "status not in ('draft','editable')">
								<tree>
									<field name="header_id" column_invisible="1"/>
									<field name="eff_from_date" width="200px"/>                                        
									<field name="street" string="Address Line 1"/>
									<field name="street1" string="Address Line 2"/>
									<field name="city_id"/>
									<field name="country_id"/>        
									<field name="pin_code"/>         
								</tree>
								<form>
									<group>
										<group>
											<field name="eff_from_date" required="1"/>
											<field name="street" required="1" string="Address Line 1"/>
											<field name="street1" string="Address Line 2"/>
											<field name="country_id" required="1" options="{'no_create': True}"/>                                                                                                     
										</group>
										<group>
											<field name="country_code" required="1" invisible="1"/>
											<field name="city_id" required="country_code == 'IN'" options="{'no_create': True}"/>
											<field name="state_id" force_save="1" readonly = "1" options="{'no_create': True}"/> 
											<field name="pin_code" widget="no_special_char" required="1"/> 
											<field name="company_id" invisible="1"/>
										</group>
									</group>
								</form>
							</field>
						</page>
						<page string="Delivery Address" >
							<field name="line_ids_d" nolabel="1" readonly = "status not in ('draft','editable')">
								<tree>                                        
									<field name="header_id" column_invisible="1"/>                                      
									<field name="eff_from_date" width="200px"/>                                       
									<field name="street" string="Address Line 1"/>
									<field name="street1" string="Address Line 2"/>
									<field name="city_id"/>
									<field name="country_id"/>     
									<field name="pin_code"/>         
								</tree>
								<form>
									<group>
										<group>
											<field name="eff_from_date" required="1" width="200px"/>
											<field name="street" required="1" string="Address Line 1"/>
											<field name="street1" string="Address Line 2"/>
											<field name="country_id" required="1" options="{'no_create': True}"/>    
										</group>
										<group>
											<field name="country_code" required="1" invisible="1"/>
											<field name="city_id" required="country_code == 'IN'" options="{'no_create': True}"/>
											<field name="state_id" force_save="1" readonly = "1" options="{'no_create': True}"/> 
											<field name="pin_code" widget="no_special_char" required="1"/> 
											<field name="company_id" invisible="1"/>
										</group>
									</group>
								</form>
							</field>
						</page>
						
						<page string="Bank Details" >
							<field name="line_ids_c" nolabel="1" readonly = "status not in ('draft','editable')">
								<tree>
									<field name="header_id" column_invisible="1"/>
									<field name="bank_name"/>
									<field name="branch_name"/>
									<field name="ifsc_code"/> 
									<field name="acc_holder_name"/>
									<field name="account_type"/>
									<field name="account_no"/>   
									<field name="company_id" column_invisible="1"/>                              
								</tree>
								<form>
									<group>
										<group>
											<field name="bank_name" required="1"/>
											<field name="branch_name" required="1"/>
											<field name="branch_code" required="1"/>
											<field name="ifsc_code" required="1" widget="upper_case"/>
											<field name="country_id" required="1" options="{'no_create': True}"/> 
											<field name="country_code" required="1" invisible="1"/>
											<field name="city_id" required="country_code == 'IN'" options="{'no_create': True}"/>
											<field name="state_id" force_save="1" readonly = "1" options="{'no_create': True}"/>          
										</group>
										<group>
											<field name="account_type" required="1"/>
											<field name="acc_holder_name" required="1"/>  
											<field name="account_no" required="1" widget="numeric"/>												 
											<field name="micr_no" required="1" widget="upper_case"/> 
											<field name="swift_code"  required="1"/> 
											<field name="iban_no"  required="1"/> 
											<field name="currency_id" required="1" options="{'no_create': True}"/>
											<field name="company_id" invisible="1"/>
										</group>
									</group>
								</form>
							</field>
						</page>                            
						
						<page string="Attachments" >
							<field name="line_ids_a" nolabel="1" readonly = "status not in ('draft','editable')">
								<tree editable="bottom">
								   <field name="header_id" column_invisible="1"/>
									<field name="attach_desc" required="1"/>
									<field name="attachment_ids" required="1" widget="single_file_binary" options="{'no_create_edit': True}"/>
									<field name="attach_user_id" force_save="1" readonly="1"/>
									<field name="attach_date" force_save="1" readonly="1"/>
									<field name="company_id" column_invisible="1"/>                                  
								</tree>
							</field>
						</page>
						
						   
						<page string="Inactive Remark" invisible = "status in ('draft')">
							<field name="inactive_remark" readonly = "status != 'active'" nolabel="1"/>
						</page>	
						<page string="Entry Info">
							<group>
								<group>
									<field name="active_trans"/>
									<field name="active_rpt"/>
								</group>
								<group>
									<field name="active" widget="boolean_toggle"/>
									<field name="entry_mode"/>
								</group>
							</group>
							<group>
								<group>
									<field name="user_id"/>
									<field name="ap_rej_user_id" invisible = "status not in ('active','inactive')"/>
									<field name="inactive_user_id" invisible = "status != 'inactive'" />
									<field name="update_user_id"/>
								</group>
								<group>
									<field name="crt_date"/>
									<field name="ap_rej_date" invisible = "status not in ('active','inactive')"/>
									<field name="inactive_date" invisible = "status != 'inactive'"/>
									<field name="update_date"/>
								</group>
							</group>
						</page>
			
                    </notebook>
		    <group>
			<field name="note"  placeholder="Write your notes here."/>
		    </group>
                    </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
              </field>
        </record>     
	
        <!-- Form view ends -->
        
        
        <!-- Tree view starts -->
        
        <record id="m_tree_view_company" model="ir.ui.view">
            <field name="name">Company Tree View</field>
            <field name="model">res.company</field>
            <field name="arch" type="xml">
		<tree string="Company" js_class="cm_company_list"
			decoration-info="status == 'draft'" 
			decoration-success = "status == 'editable'"
			decoration-bf = "status in ('active','draft')"
			decoration-primary = "status == 'inactive'">
		    <field name="name" string="Name"/>
		    <field name="code"/>
		    <field name="gst_no"/>
		    <field name="pan_no"/>
		    <field name="country_id"/>
		    <field name="mobile" string="Mobile No"/>
                    <field name="status" widget="badge" decoration-info = "status == 'draft'"
			decoration-success = "status == 'editable'"
			decoration-bf = "status == 'active'"
			decoration-primary = "status == 'inactive'"/>
		</tree>
            </field>
        </record>

        
        <!-- Tree view ends -->
        
	<!-- Search view starts -->

        <record id="m_search_view_company" model="ir.ui.view">
            <field name="name">Company Search View</field>
            <field name="model">res.company</field>
            <field name="arch" type="xml">
               <search string="Search Master">
		    <field name="name" string="Name" filter_domain="[('name','ilike',self)]"/>
		     
		    <filter name="my_master" string="My Master" domain="[('user_id', '=', uid)]"/> 
		    <filter name="Draft" domain="[('status', '=', 'draft')]"/>
		    <filter name="Editable" domain="[('status', '=', 'editable')]"/>
		    <filter name="Active" domain="[('status', '=', 'active')]"/>
		    <filter name="Inactive" domain="[('status', '=', 'inactive')]"/>
		    <filter name="My Draft" string="My Draft" domain="[('user_id', '=', uid),('status', '=', 'draft')]"/>
		    <filter name="My Editable" string="My Editable" domain="[('user_id', '=', uid),('status', '=', 'editable')]"/>
		    <filter name="My Active" string="My Active" domain="[('user_id', '=', uid),('status', '=', 'active')]"/>
		    <filter name="My Inactive" string="My Inactive" domain="[('user_id', '=', uid),('status', '=', 'inactive')]"/>
		    <filter name="Inactive List" domain="[('active', '=', False)]"/>
		    
		    <group expand="0" string="Group By">
			<filter string="Status" name="status" domain="[]" context="{'group_by': 'status'}"/>
			<filter string="Approved By" name="status" domain="[]" context="{'group_by': 'ap_rej_user_id'}"/>
			<filter string="Approved Date" name="status" domain="[]" context="{'group_by': 'ap_rej_date'}"/>			
		    </group>
            </search>
            </field>
        </record>
        
	<!-- Search view ends -->
		 
         <!-- action menu starts -->

        <record id="mma_res_company_new" model="ir.actions.act_window">
            <field name="name">Company</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.company</field>
             <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <field name="search_view_id" ref="m_search_view_company"/>
        </record>
        
         <!-- action menu ends -->
         
         <!-- action menu-tree starts -->

       <record id="res_company_new_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="m_tree_view_company"/>
            <field name="act_window_id" ref="mma_res_company_new"/>
        </record>
        
         <!-- action menu-tree ends -->
         
         <!-- action menu-form starts -->

        <record id="res_company_new_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="m_form_v_company_form"/>
            <field name="act_window_id" ref="mma_res_company_new"/>
        </record>


    <!-- actions menus -->

    <menuitem name="Company" id="cm_company_act_menu" parent="cm_master.cm_company_tree_m_parent" action="mma_res_company_new" sequence="2"/>

    </data>
</odoo>
